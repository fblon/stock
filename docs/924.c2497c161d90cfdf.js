"use strict";(self.webpackChunkstock=self.webpackChunkstock||[]).push([[924],{9924:(L,l,s)=>{s.r(l),s.d(l,{InsiderSentimentModule:()=>b});var m=s(6895),d=s(8746),t=s(8256),h=s(8821),u=s(4128),S=s(4004),g=s(1860);let f=(()=>{class e{constructor(n){this.finnhubService=n}getSentiment(n){const i=this.getDate(),c=this.getDate(1),p=this.getDate(2),a=this.getDate(3);return(0,u.D)({description:this.finnhubService.getDescription(n),sentiments:this.finnhubService.getSentiments(n,a,i)}).pipe((0,S.U)(r=>({symbol:n,description:r.description,currentMonthSentiment:this.getMonthSentiment(i,r.sentiments),oneMonthAgoSentiment:this.getMonthSentiment(c,r.sentiments),twoMonthsAgoSentiment:this.getMonthSentiment(p,r.sentiments)})))}getMonthSentiment(n,i){const c=i.find(a=>a.month===n.getMonth()&&a.year===n.getFullYear());return c?{monthDate:n,change:c.change,mspr:c.mspr}:void 0}getDate(n=0){const i=new Date;return i.setMonth(i.getMonth()-n),i}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(g.n))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var D=s(2569);let M=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-month-sentiment"]],inputs:{monthSentiment:"monthSentiment"},decls:18,vars:13,consts:[[1,"table"],[1,"col-md-6"],[3,"percentage"]],template:function(n,i){1&n&&(t.TgZ(0,"table",0)(1,"tr")(2,"td",1)(3,"table",0)(4,"tr")(5,"td"),t._uU(6),t.ALo(7,"uppercase"),t.ALo(8,"date"),t.qZA()(),t.TgZ(9,"tr")(10,"td"),t._uU(11),t.qZA()(),t.TgZ(12,"tr")(13,"td"),t._uU(14),t.ALo(15,"number"),t.qZA()()()(),t.TgZ(16,"td"),t._UZ(17,"app-trend",2),t.qZA()()()),2&n&&(t.xp6(6),t.Oqu(t.lcZ(7,5,t.xi3(8,7,i.monthSentiment.monthDate,"MMMM"))),t.xp6(5),t.AsE("Change: ",i.monthSentiment.change>0?"+":"","",i.monthSentiment.change," "),t.xp6(3),t.hij("MSPR: ",t.xi3(15,10,i.monthSentiment.mspr,"1.0-2")," "),t.xp6(3),t.Q6J("percentage",i.monthSentiment.change))},dependencies:[D._,m.gd,m.JJ,m.uU],encapsulation:2}),e})();var v=s(9676);function Z(e,o){1&e&&(t.TgZ(0,"p",4),t._uU(1,"Loading sentiment details..."),t.qZA())}function A(e,o){if(1&e&&(t.TgZ(0,"td",9),t._UZ(1,"app-month-sentiment",10),t.qZA()),2&e){const n=t.oxw(2);t.xp6(1),t.Q6J("monthSentiment",n.sentimentDetails.twoMonthsAgoSentiment)}}function x(e,o){if(1&e&&(t.TgZ(0,"td",9),t._UZ(1,"app-month-sentiment",10),t.qZA()),2&e){const n=t.oxw(2);t.xp6(1),t.Q6J("monthSentiment",n.sentimentDetails.oneMonthAgoSentiment)}}function T(e,o){if(1&e&&(t.TgZ(0,"td",9),t._UZ(1,"app-month-sentiment",10),t.qZA()),2&e){const n=t.oxw(2);t.xp6(1),t.Q6J("monthSentiment",n.sentimentDetails.currentMonthSentiment)}}function C(e,o){if(1&e&&(t.TgZ(0,"div",5)(1,"table",6)(2,"tr")(3,"td")(4,"h5"),t._uU(5),t.ALo(6,"stockTitle"),t.qZA()()(),t.TgZ(7,"tr",7),t.YNc(8,A,2,1,"td",8),t.YNc(9,x,2,1,"td",8),t.YNc(10,T,2,1,"td",8),t.qZA()()()),2&e){const n=t.oxw();t.xp6(5),t.Oqu(t.lcZ(6,4,n.sentimentDetails)),t.xp6(3),t.Q6J("ngIf",n.sentimentDetails.twoMonthsAgoSentiment),t.xp6(1),t.Q6J("ngIf",n.sentimentDetails.oneMonthAgoSentiment),t.xp6(1),t.Q6J("ngIf",n.sentimentDetails.currentMonthSentiment)}}const y=function(){return["/"]};let I=(()=>{class e{constructor(n,i){this.route=n,this.sentimentService=i}ngOnInit(){this.isLoading=!0,this.sentimentService.getSentiment(this.route.snapshot.params.symbol).pipe((0,d.x)(()=>this.isLoading=!1)).subscribe(i=>{i&&(this.sentimentDetails=i)})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(h.gz),t.Y36(f))},e.\u0275cmp=t.Xpm({type:e,selectors:[["ng-component"]],decls:7,vars:4,consts:[["class","container fst-italic",4,"ngIf"],["class","container border",4,"ngIf"],[1,"container"],["id","backBtn",1,"btn","btn-outline-secondary",3,"routerLink"],[1,"container","fst-italic"],[1,"container","border"],[1,"table"],[1,"row"],["class","col",4,"ngIf"],[1,"col"],[3,"monthSentiment"]],template:function(n,i){1&n&&(t._UZ(0,"br"),t.YNc(1,Z,2,0,"p",0),t.YNc(2,C,11,6,"div",1),t._UZ(3,"br"),t.TgZ(4,"div",2)(5,"a",3),t._uU(6," < Back to list of stocks "),t.qZA()()),2&n&&(t.xp6(1),t.Q6J("ngIf",!i.sentimentDetails),t.xp6(1),t.Q6J("ngIf",i.sentimentDetails),t.xp6(3),t.Q6J("routerLink",t.DdM(3,y)))},dependencies:[m.O5,h.yS,M,v.r],encapsulation:2}),e})();var J=s(4466);const U=[{path:":symbol",component:I}];let b=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[m.ez,J.m,h.Bz.forChild(U)]}),e})()}}]);